<?xml version="1.0" encoding="UTF-8" ?>
<!-- 
 * SqlMap-Wt014ShipToSelect.xml
 *
 * SqlMap file of Wt014ShipToSelectDao.
 * Expanded SACT DAO.
 * Wt014ShipToSelectDaoのSqlMapファイルです。
 * SACTのDAOを拡張。
 *
 * NL040 ADD
 *
 * Copyright (c) 2021 DENSO CORPORATION. All rights reserved.
-->
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="TmNxsShipTo">

    <!--  Where句（必要項目のみ） -->
    <sql id="WhereConditionWt014">
        <dynamic prepend="where">
            <isNotEmpty prepend="and" property="shipToCdLikeFront">
                SHIP_TO_CD LIKE CONCAT(#shipToCdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="shipToNmLikeFront">
                upper(SHIP_TO_NM) LIKE CONCAT(upper(#shipToNmLikeFront#),'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="shipToNmAbbLikeFront">
                SHIP_TO_NM_ABB LIKE CONCAT(#shipToNmAbbLikeFront#,'%')
            </isNotEmpty>
        </dynamic>
    </sql>

    <!-- 検索 SQL文（任意条件、ページング用） -->
    <select id="SearchByConditionForPagingWt014" resultMap="TmNxsShipTo"
        parameterClass="TmNxsShipToCriteriaDomain">
        select 
            <include refid="Cols" />
            /* SqlMap-TmNxsShipTo.SearchByConditionForPagingWt014 */
            from (
                <include refid="SelectForPaging" />
                <include refid="WhereConditionWt014" />
            ) where ROW_NUM between #rowNumFrom# and #rowNumTo#
    </select>

    <!-- 検索 SQL文（任意条件 件数取得） -->
    <select id="SearchCountWt014" resultClass="java.lang.Integer"
        parameterClass="TmNxsShipToCriteriaDomain">
        select count(rownum) 
        from TM_NXS_SHIP_TO
        /* SqlMap-TmNxsShipTo.SearchCountWt014 */
        <include refid="WhereConditionWt014" />
    </select>

</sqlMap>

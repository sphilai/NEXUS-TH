<?xml version="1.0" encoding="UTF-8" ?>
<!-- $Revision$ : Generated by SACT ver.1.0.1 at 2558/04/28 16:15:38 -->
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="W1007ExpRequestDtl">

    <!-- Domainの別名定義 -->
    <!-- Domain -->
    <typeAlias alias="W1007ExpRequestDtlDomain"
        type="com.globaldenso.eca0027.core.business.domain.W1007ExpRequestDtlDomain" />
    <!-- CriteriaDomain -->
    <typeAlias alias="W1007ExpRequestDtlCriteriaDomain"
        type="com.globaldenso.eca0027.core.business.domain.criteria.W1007ExpRequestDtlCriteriaDomain" />


    <!-- 検索結果をMapで受け取る -->
    <resultMap id="W1007ExpRequestDtl" class="W1007ExpRequestDtlDomain">
        <result property="expRequestNo" column="EXP_REQUEST_NO" />
        <result property="expRequestItemId" column="EXP_REQUEST_ITEM_ID" />
        <result property="lineNo" column="LINE_NO" />
        <result property="customerPoNo" column="CUSTOMER_PO_NO" />
        <result property="description" column="DESCRIPTION" />
        <result property="dngrGoodsImpExpCtrl" column="DNGR_GOODS_IMP_EXP_CTRL" />
        <result property="kitParFlg" column="KIT_PAR_FLG" />
        <result property="rtUseFlg" column="RT_USE_FLG" />
        <result property="customerItemNo" column="CUSTOMER_ITEM_NO" />
        <result property="itemNo" column="ITEM_NO" />
        <result property="pkgCd" column="PKG_CD" />
        <result property="originCntryCd" column="ORIGIN_CNTRY_CD" />
        <result property="qtyUnit" column="QTY_UNIT" />
        <result property="qty" column="QTY" />
        <result property="currCd" column="CURR_CD" />
        <result property="unitPrice" column="UNIT_PRICE" />
        <result property="netWeight" column="NET_WEIGHT" />
        <result property="commercialFlg" column="COMMERCIAL_FLG" />
        <result property="reExpGoodsFlg" column="RE_EXP_GOODS_FLG" />
        <result property="locationNo" column="LOCATION_NO" />
        <result property="constructionWorkNo" column="CONSTRUCTION_WORK_NO" />
        <result property="packingStatus" column="PACKING_STATUS" />
        <result property="comUpdateFuncId" column="COM_UPDATE_FUNC_ID" />
        <result property="comUpdateUserId" column="COM_UPDATE_USER_ID" />
        <result property="comUpdateTimestamp" column="COM_UPDATE_TIMESTAMP" />
        <result property="comCreateFuncId" column="COM_CREATE_FUNC_ID" />
        <result property="comCreateUserId" column="COM_CREATE_USER_ID" />
        <result property="comCreateTimestamp" column="COM_CREATE_TIMESTAMP" />
       <result property="comCreateTimestamp" column="COM_CREATE_TIMESTAMP" />
    </resultMap>
	<resultMap id="W1007ExpRequestDtlJoinTable" class="W1007ExpRequestDtlDomain">
        <result property="expRequestNo" column="EXP_REQUEST_NO" />
        <result property="expRequestItemId" column="EXP_REQUEST_ITEM_ID" />
        <result property="lineNo" column="LINE_NO" />
        <result property="customerPoNo" column="CUSTOMER_PO_NO" />
        <result property="description" column="DESCRIPTION" />
        <result property="dngrGoodsImpExpCtrl" column="DNGR_GOODS_IMP_EXP_CTRL" />
        <result property="kitParFlg" column="KIT_PAR_FLG" />
        <result property="rtUseFlg" column="RT_USE_FLG" />
        <result property="customerItemNo" column="CUSTOMER_ITEM_NO" />
        <result property="itemNo" column="ITEM_NO" />
        <result property="pkgCd" column="PKG_CD" />
        <result property="originCntryCd" column="ORIGIN_CNTRY_CD" />
        <result property="qtyUnit" column="QTY_UNIT" />
        <result property="qty" column="QTY" />
        <result property="currCd" column="CURR_CD" />
        <result property="unitPrice" column="UNIT_PRICE" />
        <result property="netWeight" column="NET_WEIGHT" />
        <result property="commercialFlg" column="COMMERCIAL_FLG" />
        <result property="reExpGoodsFlg" column="RE_EXP_GOODS_FLG" />
        <result property="locationNo" column="LOCATION_NO" />
        <result property="constructionWorkNo" column="CONSTRUCTION_WORK_NO" />
        <result property="packingStatus" column="PACKING_STATUS" />
        <result property="comUpdateFuncId" column="COM_UPDATE_FUNC_ID" />
        <result property="comUpdateUserId" column="COM_UPDATE_USER_ID" />
        <result property="comUpdateTimestamp" column="COM_UPDATE_TIMESTAMP" />
        <result property="comCreateFuncId" column="COM_CREATE_FUNC_ID" />
        <result property="comCreateUserId" column="COM_CREATE_USER_ID" />
        <result property="comCreateTimestamp" column="COM_CREATE_TIMESTAMP" />
       <result property="comCreateTimestamp" column="COM_CREATE_TIMESTAMP" />
       <result property="palletNo" column="PALLET_NO" />
       <result property="palletTemp" column="PALLET_TMP" />
       <result property="expRequestKitId" column="EXP_REQUEST_KIT_ID" />
       <result property="item" column="ITEM" />
       <result property="mainMark" column="MAIN_MARK" />
    </resultMap>

    <!-- 汎用 項目 -->
    <sql id="Cols">
             EXP_REQUEST_NO
            ,EXP_REQUEST_ITEM_ID
            ,LINE_NO
            ,CUSTOMER_PO_NO
            ,DESCRIPTION
            ,DNGR_GOODS_IMP_EXP_CTRL
            ,KIT_PAR_FLG
            ,RT_USE_FLG
            ,CUSTOMER_ITEM_NO
            ,ITEM_NO
            ,PKG_CD
            ,ORIGIN_CNTRY_CD
            ,QTY_UNIT
            ,QTY
            ,CURR_CD
            ,UNIT_PRICE
            ,NET_WEIGHT
            ,COMMERCIAL_FLG
            ,RE_EXP_GOODS_FLG
            ,LOCATION_NO
            ,CONSTRUCTION_WORK_NO
            ,PACKING_STATUS
            ,COM_UPDATE_FUNC_ID
            ,COM_UPDATE_USER_ID
            ,COM_UPDATE_TIMESTAMP
            ,COM_CREATE_FUNC_ID
            ,COM_CREATE_USER_ID
            ,COM_CREATE_TIMESTAMP
    </sql>
    <sql id="ColsA">
             a.EXP_REQUEST_NO
            ,a.EXP_REQUEST_ITEM_ID
            ,a.LINE_NO
            ,null as EXP_REQUEST_KIT_ID
            ,a.CUSTOMER_PO_NO
            ,a.DESCRIPTION
            ,a.DNGR_GOODS_IMP_EXP_CTRL
            ,a.KIT_PAR_FLG
            ,a.RT_USE_FLG
            ,a.CUSTOMER_ITEM_NO
            ,a.ITEM_NO
            ,a.PKG_CD
            ,a.ORIGIN_CNTRY_CD
            ,a.QTY_UNIT
            ,a.QTY
            ,a.CURR_CD
            ,a.UNIT_PRICE
            ,a.NET_WEIGHT
            ,a.COMMERCIAL_FLG
            ,a.RE_EXP_GOODS_FLG
            ,a.LOCATION_NO
            ,a.CONSTRUCTION_WORK_NO
            ,a.PACKING_STATUS
            ,a.COM_UPDATE_FUNC_ID
            ,a.COM_UPDATE_USER_ID
            ,a.COM_UPDATE_TIMESTAMP
            ,a.COM_CREATE_FUNC_ID
            ,a.COM_CREATE_USER_ID
            ,a.COM_CREATE_TIMESTAMP
            ,null as ITEM
            
    </sql>
	<sql id="ColsB">
    		,b.PALLET_NO
    		,b.main_mark 
    </sql>
	<sql id="ColsC">
    		,c.PALLET_NO as PALLET_TMP
    		,i.MAIN_MARK
    </sql>

	 <!-- 汎用 SELECT句 -->
    <sql id="SelectForJoinTable">
        select
        <include refid="ColsA" />        
        <include refid="ColsC" />
        from TT_EXP_REQUEST_DTL a
        LEFT JOIN TT_PLTZ_ITEM I ON I.EXP_REQUEST_NO = A.EXP_REQUEST_NO AND A.LINE_NO = I.LINE_NO AND A.EXP_REQUEST_ITEM_ID =I.EXP_REQUEST_ITEM_ID        
        LEFT JOIN TW_EXP_REQUEST_PLTZ C ON C.EXP_REQUEST_NO = A.EXP_REQUEST_NO AND C.EXP_REQUEST_ITEM_ID = A.EXP_REQUEST_ITEM_ID AND A.LINE_NO = C.LINE_NO
    </sql>
    <!-- 汎用 SELECT句 -->
     <!-- 汎用 SELECT句 -->
    <sql id="Select">
        select
        <include refid="Cols" />
        from TT_EXP_REQUEST_DTL
    </sql>
    <sql id="SelectKIT">
         SELECT DISTINCT K.EXP_REQUEST_NO, K.EXP_REQUEST_ITEM_ID, NULL AS LINE_NO, CAST( K.EXP_REQUEST_KIT_ID AS VARCHAR2(27) ) AS EXP_REQUEST_KIT_ID, '' AS CUSTOMER_PO_NO ,K.KIT_COMPONENT_ITEM_NM AS DESCRIPTION , K.DNGR_GOODS_IMP_EXP_CTRL,
		'' AS KIT_PAR_FLG, K.RT_USE_FLG, K.KIT_CUSTOMER_ITEM_NO AS CUSTOMER_ITEM_NO,  K.KIT_COMPONENT_ITEM_NO AS ITEM_NO , 
		'' AS PKG_CD, K.ORIGIN_CNTRY_CD, K.QTY_UNIT, K.QTY,
		'' AS CURR_CD, K.UNIT_PRICE, K.NET_WEIGHT AS NET_WEIGHT , K.COMMERCIAL_FLG, '' AS RE_EXP_GOODS_FLG, '' AS LOCATION_NO, '' AS CONSTRUCTION_WORK_NO, K.PACKING_STATUS,
		K.COM_UPDATE_FUNC_ID, K.COM_UPDATE_USER_ID, K.COM_UPDATE_TIMESTAMP,K.COM_CREATE_FUNC_ID,K.COM_CREATE_USER_ID, K.COM_CREATE_TIMESTAMP , CAST( K.KIT_BRCH AS VARCHAR2(27) ) AS ITEM,
		C.PALLET_NO AS PALLET_TMP ,I.MAIN_MARK
		FROM TT_EXP_REQUEST_DTL_KIT K 
    	LEFT JOIN TT_PLTZ_ITEM I ON  I.EXP_REQUEST_NO = K.EXP_REQUEST_NO AND K.KIT_BRCH = I.KIT_BRCH AND K.EXP_REQUEST_ITEM_ID = I.EXP_REQUEST_ITEM_ID AND K.EXP_REQUEST_KIT_ID = I.EXP_REQUEST_KIT_ID
   	 	LEFT JOIN TW_EXP_REQUEST_PLTZ C ON C.EXP_REQUEST_NO = K.EXP_REQUEST_NO AND C.EXP_REQUEST_ITEM_ID = K.EXP_REQUEST_ITEM_ID AND C.EXP_REQUEST_KIT_ID = K.EXP_REQUEST_KIT_ID
    	AND C.KIT_BRCH = K.KIT_BRCH
    </sql>
    <!-- 汎用 SELECT句（ページング用） -->
    <sql id="SelectForPaging">
        select
        <include refid="Cols" />
            ,row_number() over (<isNotEmpty property="preferredOrder">order by $preferredOrder$</isNotEmpty><isEmpty property="preferredOrder"><include refid="SortKeys" /></isEmpty>) ROW_NUM
        from TT_EXP_REQUEST_DTL
    </sql>

    <!-- 汎用 Where句（主キー） -->
    <sql id="WhereKey">
        <dynamic prepend="where">
        <isParameterPresent prepend="and">
            EXP_REQUEST_NO = #expRequestNo#
        </isParameterPresent>
        <isParameterPresent prepend="and">
            EXP_REQUEST_ITEM_ID = #expRequestItemId#
        </isParameterPresent>
        <isParameterPresent prepend="and">
            LINE_NO = #lineNo#
        </isParameterPresent>
        </dynamic>
    </sql>

    <!-- 汎用 Where句（全項目） -->
    <sql id="WhereCondition">
        <dynamic prepend="where">
            <isNotEmpty prepend="and" property="expRequestNo">
                EXP_REQUEST_NO = #expRequestNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestItemId">
                EXP_REQUEST_ITEM_ID = #expRequestItemId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="lineNo">
                LINE_NO = #lineNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerPoNo">
                CUSTOMER_PO_NO = #customerPoNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="description">
                DESCRIPTION LIKE CONCAT (#description#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="dngrGoodsImpExpCtrl">
                DNGR_GOODS_IMP_EXP_CTRL = #dngrGoodsImpExpCtrl#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitParFlg">
                KIT_PAR_FLG = #kitParFlg#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="rtUseFlg">
                RT_USE_FLG = #rtUseFlg#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNo">
                CUSTOMER_ITEM_NO = #customerItemNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNo">
                ITEM_NO = #itemNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="pkgCd">
                PKG_CD = #pkgCd#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="originCntryCd">
                ORIGIN_CNTRY_CD = #originCntryCd#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnit">
                QTY_UNIT = #qtyUnit#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qty">
                QTY = #qty#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="currCd">
                CURR_CD = #currCd#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="unitPrice">
                UNIT_PRICE = #unitPrice#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="netWeight">
                NET_WEIGHT = #netWeight#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="commercialFlg">
                COMMERCIAL_FLG = #commercialFlg#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="reExpGoodsFlg">
                RE_EXP_GOODS_FLG = #reExpGoodsFlg#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="locationNo">
                LOCATION_NO = #locationNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="constructionWorkNo">
                CONSTRUCTION_WORK_NO = #constructionWorkNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatus">
                PACKING_STATUS = #packingStatus#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateFuncId">
                COM_UPDATE_FUNC_ID = #comUpdateFuncId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserId">
                COM_UPDATE_USER_ID = #comUpdateUserId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateTimestamp">
                COM_UPDATE_TIMESTAMP = #comUpdateTimestamp#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateFuncId">
                COM_CREATE_FUNC_ID = #comCreateFuncId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserId">
                COM_CREATE_USER_ID = #comCreateUserId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateTimestamp">
                COM_CREATE_TIMESTAMP = #comCreateTimestamp#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoGreaterThan">
                EXP_REQUEST_NO <![CDATA[>]]> #expRequestNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoGreaterThanEqual">
                EXP_REQUEST_NO <![CDATA[>=]]> #expRequestNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoLessThan">
                EXP_REQUEST_NO <![CDATA[<]]> #expRequestNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoLessThanEqual">
                EXP_REQUEST_NO <![CDATA[<=]]> #expRequestNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoLikeFront">
                EXP_REQUEST_NO LIKE CONCAT(#expRequestNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerPoNoGreaterThan">
                CUSTOMER_PO_NO <![CDATA[>]]> #customerPoNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerPoNoGreaterThanEqual">
                CUSTOMER_PO_NO <![CDATA[>=]]> #customerPoNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerPoNoLessThan">
                CUSTOMER_PO_NO <![CDATA[<]]> #customerPoNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerPoNoLessThanEqual">
                CUSTOMER_PO_NO <![CDATA[<=]]> #customerPoNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerPoNoLikeFront">
                CUSTOMER_PO_NO LIKE CONCAT(#customerPoNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionGreaterThan">
                DESCRIPTION <![CDATA[>]]> #descriptionGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionGreaterThanEqual">
                DESCRIPTION <![CDATA[>=]]> #descriptionGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionLessThan">
                DESCRIPTION <![CDATA[<]]> #descriptionLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionLessThanEqual">
                DESCRIPTION <![CDATA[<=]]> #descriptionLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionLikeFront">
                DESCRIPTION LIKE CONCAT(#descriptionLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="dngrGoodsImpExpCtrlGreaterThan">
                DNGR_GOODS_IMP_EXP_CTRL <![CDATA[>]]> #dngrGoodsImpExpCtrlGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="dngrGoodsImpExpCtrlGreaterThanEqual">
                DNGR_GOODS_IMP_EXP_CTRL <![CDATA[>=]]> #dngrGoodsImpExpCtrlGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="dngrGoodsImpExpCtrlLessThan">
                DNGR_GOODS_IMP_EXP_CTRL <![CDATA[<]]> #dngrGoodsImpExpCtrlLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="dngrGoodsImpExpCtrlLessThanEqual">
                DNGR_GOODS_IMP_EXP_CTRL <![CDATA[<=]]> #dngrGoodsImpExpCtrlLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="dngrGoodsImpExpCtrlLikeFront">
                DNGR_GOODS_IMP_EXP_CTRL LIKE CONCAT(#dngrGoodsImpExpCtrlLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitParFlgGreaterThan">
                KIT_PAR_FLG <![CDATA[>]]> #kitParFlgGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitParFlgGreaterThanEqual">
                KIT_PAR_FLG <![CDATA[>=]]> #kitParFlgGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitParFlgLessThan">
                KIT_PAR_FLG <![CDATA[<]]> #kitParFlgLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitParFlgLessThanEqual">
                KIT_PAR_FLG <![CDATA[<=]]> #kitParFlgLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitParFlgLikeFront">
                KIT_PAR_FLG LIKE CONCAT(#kitParFlgLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="rtUseFlgGreaterThan">
                RT_USE_FLG <![CDATA[>]]> #rtUseFlgGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="rtUseFlgGreaterThanEqual">
                RT_USE_FLG <![CDATA[>=]]> #rtUseFlgGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="rtUseFlgLessThan">
                RT_USE_FLG <![CDATA[<]]> #rtUseFlgLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="rtUseFlgLessThanEqual">
                RT_USE_FLG <![CDATA[<=]]> #rtUseFlgLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="rtUseFlgLikeFront">
                RT_USE_FLG LIKE CONCAT(#rtUseFlgLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoGreaterThan">
                CUSTOMER_ITEM_NO <![CDATA[>]]> #customerItemNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoGreaterThanEqual">
                CUSTOMER_ITEM_NO <![CDATA[>=]]> #customerItemNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoLessThan">
                CUSTOMER_ITEM_NO <![CDATA[<]]> #customerItemNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoLessThanEqual">
                CUSTOMER_ITEM_NO <![CDATA[<=]]> #customerItemNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoLikeFront">
                CUSTOMER_ITEM_NO LIKE CONCAT(#customerItemNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNoGreaterThan">
                ITEM_NO <![CDATA[>]]> #itemNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNoGreaterThanEqual">
                ITEM_NO <![CDATA[>=]]> #itemNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNoLessThan">
                ITEM_NO <![CDATA[<]]> #itemNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNoLessThanEqual">
                ITEM_NO <![CDATA[<=]]> #itemNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNoLikeFront">
                ITEM_NO LIKE CONCAT(#itemNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="pkgCdGreaterThan">
                PKG_CD <![CDATA[>]]> #pkgCdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="pkgCdGreaterThanEqual">
                PKG_CD <![CDATA[>=]]> #pkgCdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="pkgCdLessThan">
                PKG_CD <![CDATA[<]]> #pkgCdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="pkgCdLessThanEqual">
                PKG_CD <![CDATA[<=]]> #pkgCdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="pkgCdLikeFront">
                PKG_CD LIKE CONCAT(#pkgCdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="originCntryCdGreaterThan">
                ORIGIN_CNTRY_CD <![CDATA[>]]> #originCntryCdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="originCntryCdGreaterThanEqual">
                ORIGIN_CNTRY_CD <![CDATA[>=]]> #originCntryCdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="originCntryCdLessThan">
                ORIGIN_CNTRY_CD <![CDATA[<]]> #originCntryCdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="originCntryCdLessThanEqual">
                ORIGIN_CNTRY_CD <![CDATA[<=]]> #originCntryCdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="originCntryCdLikeFront">
                ORIGIN_CNTRY_CD LIKE CONCAT(#originCntryCdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitGreaterThan">
                QTY_UNIT <![CDATA[>]]> #qtyUnitGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitGreaterThanEqual">
                QTY_UNIT <![CDATA[>=]]> #qtyUnitGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitLessThan">
                QTY_UNIT <![CDATA[<]]> #qtyUnitLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitLessThanEqual">
                QTY_UNIT <![CDATA[<=]]> #qtyUnitLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitLikeFront">
                QTY_UNIT LIKE CONCAT(#qtyUnitLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="currCdGreaterThan">
                CURR_CD <![CDATA[>]]> #currCdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="currCdGreaterThanEqual">
                CURR_CD <![CDATA[>=]]> #currCdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="currCdLessThan">
                CURR_CD <![CDATA[<]]> #currCdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="currCdLessThanEqual">
                CURR_CD <![CDATA[<=]]> #currCdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="currCdLikeFront">
                CURR_CD LIKE CONCAT(#currCdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="commercialFlgGreaterThan">
                COMMERCIAL_FLG <![CDATA[>]]> #commercialFlgGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="commercialFlgGreaterThanEqual">
                COMMERCIAL_FLG <![CDATA[>=]]> #commercialFlgGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="commercialFlgLessThan">
                COMMERCIAL_FLG <![CDATA[<]]> #commercialFlgLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="commercialFlgLessThanEqual">
                COMMERCIAL_FLG <![CDATA[<=]]> #commercialFlgLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="commercialFlgLikeFront">
                COMMERCIAL_FLG LIKE CONCAT(#commercialFlgLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="reExpGoodsFlgGreaterThan">
                RE_EXP_GOODS_FLG <![CDATA[>]]> #reExpGoodsFlgGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="reExpGoodsFlgGreaterThanEqual">
                RE_EXP_GOODS_FLG <![CDATA[>=]]> #reExpGoodsFlgGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="reExpGoodsFlgLessThan">
                RE_EXP_GOODS_FLG <![CDATA[<]]> #reExpGoodsFlgLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="reExpGoodsFlgLessThanEqual">
                RE_EXP_GOODS_FLG <![CDATA[<=]]> #reExpGoodsFlgLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="reExpGoodsFlgLikeFront">
                RE_EXP_GOODS_FLG LIKE CONCAT(#reExpGoodsFlgLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="locationNoGreaterThan">
                LOCATION_NO <![CDATA[>]]> #locationNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="locationNoGreaterThanEqual">
                LOCATION_NO <![CDATA[>=]]> #locationNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="locationNoLessThan">
                LOCATION_NO <![CDATA[<]]> #locationNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="locationNoLessThanEqual">
                LOCATION_NO <![CDATA[<=]]> #locationNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="locationNoLikeFront">
                LOCATION_NO LIKE CONCAT(#locationNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="constructionWorkNoGreaterThan">
                CONSTRUCTION_WORK_NO <![CDATA[>]]> #constructionWorkNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="constructionWorkNoGreaterThanEqual">
                CONSTRUCTION_WORK_NO <![CDATA[>=]]> #constructionWorkNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="constructionWorkNoLessThan">
                CONSTRUCTION_WORK_NO <![CDATA[<]]> #constructionWorkNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="constructionWorkNoLessThanEqual">
                CONSTRUCTION_WORK_NO <![CDATA[<=]]> #constructionWorkNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="constructionWorkNoLikeFront">
                CONSTRUCTION_WORK_NO LIKE CONCAT(#constructionWorkNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatusGreaterThan">
                PACKING_STATUS <![CDATA[>]]> #packingStatusGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatusGreaterThanEqual">
                PACKING_STATUS <![CDATA[>=]]> #packingStatusGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatusLessThan">
                PACKING_STATUS <![CDATA[<]]> #packingStatusLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatusLessThanEqual">
                PACKING_STATUS <![CDATA[<=]]> #packingStatusLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatusLikeFront">
                PACKING_STATUS LIKE CONCAT(#packingStatusLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateFuncIdGreaterThan">
                COM_UPDATE_FUNC_ID <![CDATA[>]]> #comUpdateFuncIdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateFuncIdGreaterThanEqual">
                COM_UPDATE_FUNC_ID <![CDATA[>=]]> #comUpdateFuncIdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateFuncIdLessThan">
                COM_UPDATE_FUNC_ID <![CDATA[<]]> #comUpdateFuncIdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateFuncIdLessThanEqual">
                COM_UPDATE_FUNC_ID <![CDATA[<=]]> #comUpdateFuncIdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateFuncIdLikeFront">
                COM_UPDATE_FUNC_ID LIKE CONCAT(#comUpdateFuncIdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdGreaterThan">
                COM_UPDATE_USER_ID <![CDATA[>]]> #comUpdateUserIdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdGreaterThanEqual">
                COM_UPDATE_USER_ID <![CDATA[>=]]> #comUpdateUserIdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdLessThan">
                COM_UPDATE_USER_ID <![CDATA[<]]> #comUpdateUserIdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdLessThanEqual">
                COM_UPDATE_USER_ID <![CDATA[<=]]> #comUpdateUserIdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdLikeFront">
                COM_UPDATE_USER_ID LIKE CONCAT(#comUpdateUserIdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateFuncIdGreaterThan">
                COM_CREATE_FUNC_ID <![CDATA[>]]> #comCreateFuncIdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateFuncIdGreaterThanEqual">
                COM_CREATE_FUNC_ID <![CDATA[>=]]> #comCreateFuncIdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateFuncIdLessThan">
                COM_CREATE_FUNC_ID <![CDATA[<]]> #comCreateFuncIdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateFuncIdLessThanEqual">
                COM_CREATE_FUNC_ID <![CDATA[<=]]> #comCreateFuncIdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateFuncIdLikeFront">
                COM_CREATE_FUNC_ID LIKE CONCAT(#comCreateFuncIdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdGreaterThan">
                COM_CREATE_USER_ID <![CDATA[>]]> #comCreateUserIdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdGreaterThanEqual">
                COM_CREATE_USER_ID <![CDATA[>=]]> #comCreateUserIdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdLessThan">
                COM_CREATE_USER_ID <![CDATA[<]]> #comCreateUserIdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdLessThanEqual">
                COM_CREATE_USER_ID <![CDATA[<=]]> #comCreateUserIdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdLikeFront">
                COM_CREATE_USER_ID LIKE CONCAT(#comCreateUserIdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="fmLine">
                LINE_NO between #fmLine# and #toLine#
            </isNotEmpty>
        </dynamic>
    </sql>
	<sql id="WhereConditionForJoinTable">
        <dynamic prepend="where">
            <isNotEmpty prepend="and" property="expRequestNo">
                a.EXP_REQUEST_NO = #expRequestNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="description">
                a.DESCRIPTION LIKE CONCAT('%',#description#) 
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNo">
                a.ITEM_NO LIKE CONCAT(#itemNo#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatus">
                a.PACKING_STATUS = #packingStatus#
            </isNotEmpty>            
            <isNotEmpty prepend="and" property="fmLine">
                a.LINE_NO between #fmLine# and #toLine#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNo">
                b.PALLET_NO = #palletNo# 
            </isNotEmpty>
            <isNotEmpty prepend="and" property="cmlNo">
                b.MAIN_MARK  LIKE CONCAT(#cmlNo#,'%')
            </isNotEmpty>
            
        </dynamic>
    </sql>
    <sql id="WhereKITConditionForJoinTable">
        <dynamic prepend="where">
            <isNotEmpty prepend="and" property="expRequestNo">
                a.EXP_REQUEST_NO = #expRequestNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="description">
                a.DESCRIPTION LIKE CONCAT('%',#description#)  
            </isNotEmpty>
            <isNotEmpty prepend="and" property="itemNo">
                a.ITEM_NO LIKE CONCAT(#itemNo#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="packingStatus">
                a.PACKING_STATUS = #packingStatus#
            </isNotEmpty>            
            <isNotEmpty prepend="and" property="fmLine">
                a.LINE_NO between #fmLine# and #toLine#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNo">
                b.PALLET_NO = #palletNo# 
            </isNotEmpty>
            <isNotEmpty prepend="and" property="cmlNo">
                b.MAIN_MARK  LIKE CONCAT(#cmlNo#,'%')
            </isNotEmpty>
        </dynamic>
    </sql>
    <!-- 汎用 OrderBy句 -->
    <sql id="SortKeys">
        <isNotEmpty property="preferredOrder">
            order by $preferredOrder$
        </isNotEmpty>
        <isEmpty property="preferredOrder">
            order by 
             LINE_NO asc 
            ,ITEM_NO asc 
            
        </isEmpty>
    </sql>
 	
    <!-- 検索 SQL文（主キー） -->
    <select id="SearchByKey" resultMap="W1007ExpRequestDtl"
        parameterClass="W1007ExpRequestDtlCriteriaDomain">
        <include refid="Select" />
        /* SqlMap-W1007ExpRequestDtl.SearchByKey */
        <include refid="WhereKey" />
    </select>

    <!-- 検索 SQL文（任意条件） -->
    <select id="SearchParentKitByCondition" resultMap="W1007ExpRequestDtlJoinTable"
        parameterClass="W1007ExpRequestDtlCriteriaDomain">
        select a.* ,B.PALLET_NO ,B.MAIN_MARK from(
	        <include refid="SelectForJoinTable" />
	        /* SqlMap-W1007ExpRequestDtl.SearchByCondition */
	        
        )a left join TT_PLTZ B ON B.EXP_REQUEST_NO=a.EXP_REQUEST_NO and a.main_mark = b.main_mark
        <include refid="WhereConditionForJoinTable" />
     	UNION
     	
     	select a.* ,B.PALLET_NO ,B.MAIN_MARK from(
	     	<include refid="SelectKIT"/>
	     	
     	)a left join TT_PLTZ B ON B.EXP_REQUEST_NO=a.EXP_REQUEST_NO and a.main_mark = b.main_mark
     	<include refid="WhereKITConditionForJoinTable" />  
    </select>
 	<!-- 検索 SQL文（任意条件） -->
    <select id="SearchByCondition" resultMap="W1007ExpRequestDtl"
        parameterClass="W1007ExpRequestDtlCriteriaDomain">
        <include refid="Select" />
        /* SqlMap-W1007ExpRequest.SearchByCondition */
        <include refid="WhereCondition" />
        <include refid="SortKeys" />
    </select>
    <!-- 検索 SQL文（任意条件、ページング用） -->
    <select id="SearchByConditionForPaging" resultMap="W1007ExpRequestDtl"
        parameterClass="W1007ExpRequestDtlCriteriaDomain">
        select 
            <include refid="Cols" />
            /* SqlMap-W1007ExpRequestDtl.SearchByConditionForPaging */
            from (
                <include refid="SelectForPaging" />
                <include refid="WhereCondition" />
            ) where ROW_NUM between #rowNumFrom# and #rowNumTo#
    </select>

    <!-- 検索 SQL文（任意条件 件数取得） -->
    <select id="SearchCount" resultClass="java.lang.Integer"
        parameterClass="W1007ExpRequestDtlCriteriaDomain">
        select count(rownum) from(
	         select a.* ,B.PALLET_NO ,B.MAIN_MARK from(
	        <include refid="SelectForJoinTable" />
	        /* SqlMap-W1007ExpRequestDtl.SearchByCondition */
	        
        )a left join TT_PLTZ B ON B.EXP_REQUEST_NO=a.EXP_REQUEST_NO and a.main_mark = b.main_mark
        <include refid="WhereConditionForJoinTable" />
     	UNION
     	
     	select a.* ,B.PALLET_NO ,B.MAIN_MARK from(
	     	<include refid="SelectKIT"/>
	     	
     	)a left join TT_PLTZ B ON B.EXP_REQUEST_NO=a.EXP_REQUEST_NO and a.main_mark = b.main_mark
     	<include refid="WhereKITConditionForJoinTable" />  
     	) 
    </select>

    <!-- 汎用 Where句（主キー Update/Delete用） -->
    <sql id="WhereKeyForChange">
        <dynamic prepend="where">
        <isParameterPresent prepend="and">
            EXP_REQUEST_NO = #expRequestNo#
        </isParameterPresent>
        <isParameterPresent prepend="and">
            EXP_REQUEST_ITEM_ID = #expRequestItemId#
        </isParameterPresent>
        <isParameterPresent prepend="and">
            LINE_NO = #lineNo#
        </isParameterPresent>
        </dynamic>
    </sql>



    <!-- 更新 SQL文（主キー） -->
    <update id="Update" parameterClass="W1007ExpRequestDtlDomain">
        <dynamic prepend="update TT_EXP_REQUEST_DTL set ">
        /* SqlMap-W1007ExpRequestDtl.Update */
            <isNotNull prepend="," property="customerPoNo">
                CUSTOMER_PO_NO = #customerPoNo#
            </isNotNull>
            <isNotNull prepend="," property="description">
                DESCRIPTION = #description#
            </isNotNull>
            <isNotNull prepend="," property="dngrGoodsImpExpCtrl">
                DNGR_GOODS_IMP_EXP_CTRL = #dngrGoodsImpExpCtrl#
            </isNotNull>
            <isNotNull prepend="," property="kitParFlg">
                KIT_PAR_FLG = #kitParFlg#
            </isNotNull>
            <isNotNull prepend="," property="rtUseFlg">
                RT_USE_FLG = #rtUseFlg#
            </isNotNull>
            <isNotNull prepend="," property="customerItemNo">
                CUSTOMER_ITEM_NO = #customerItemNo#
            </isNotNull>
            <isNotNull prepend="," property="itemNo">
                ITEM_NO = #itemNo#
            </isNotNull>
            <isNotNull prepend="," property="pkgCd">
                PKG_CD = #pkgCd#
            </isNotNull>
            <isNotNull prepend="," property="originCntryCd">
                ORIGIN_CNTRY_CD = #originCntryCd#
            </isNotNull>
            <isNotNull prepend="," property="qtyUnit">
                QTY_UNIT = #qtyUnit#
            </isNotNull>
            <isNotNull prepend="," property="qty">
                QTY = #qty#
            </isNotNull>
            <isNotNull prepend="," property="currCd">
                CURR_CD = #currCd#
            </isNotNull>
            <isNotNull prepend="," property="unitPrice">
                UNIT_PRICE = #unitPrice#
            </isNotNull>
            <isNotNull prepend="," property="netWeight">
                NET_WEIGHT = #netWeight#
            </isNotNull>
            <isNotNull prepend="," property="commercialFlg">
                COMMERCIAL_FLG = #commercialFlg#
            </isNotNull>
            <isNotNull prepend="," property="reExpGoodsFlg">
                RE_EXP_GOODS_FLG = #reExpGoodsFlg#
            </isNotNull>
            <isNotNull prepend="," property="locationNo">
                LOCATION_NO = #locationNo#
            </isNotNull>
            <isNotNull prepend="," property="constructionWorkNo">
                CONSTRUCTION_WORK_NO = #constructionWorkNo#
            </isNotNull>
            <isNotNull prepend="," property="packingStatus">
                PACKING_STATUS = #packingStatus#
            </isNotNull>
            <isNotNull prepend="," property="comUpdateFuncId">
                COM_UPDATE_FUNC_ID = #comUpdateFuncId#
            </isNotNull>
            <isNotNull prepend="," property="comUpdateUserId">
                COM_UPDATE_USER_ID = #comUpdateUserId#
            </isNotNull>
            <isParameterPresent prepend=",">
                COM_UPDATE_TIMESTAMP = SYSDATE
            </isParameterPresent>
        </dynamic>
        <include refid="WhereKeyForChange" />
    </update>



</sqlMap> 

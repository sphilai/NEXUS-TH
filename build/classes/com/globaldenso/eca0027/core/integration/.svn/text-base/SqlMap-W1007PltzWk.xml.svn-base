<?xml version="1.0" encoding="UTF-8" ?>
<!-- $Revision$ : Generated by SACT ver.1.0.1 at 2558/05/26 15:53:05 -->
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="W1007PltzWk">

    <!-- Domainの別名定義 -->
    <!-- Domain -->
    <typeAlias alias="W1007PltzWkDomain"
        type="com.globaldenso.eca0027.core.business.domain.W1007PltzWkDomain" />
    <!-- CriteriaDomain -->
    <typeAlias alias="W1007PltzWkCriteriaDomain"
        type="com.globaldenso.eca0027.core.business.domain.criteria.W1007PltzWkCriteriaDomain" />


    <!-- 検索結果をMapで受け取る -->
    <resultMap id="W1007PltzWk" class="W1007PltzWkDomain">
        <result property="pltzWkId" column="PLTZ_WK_ID" />
        <result property="expRequestNo" column="EXP_REQUEST_NO" />
        <result property="expRequestItemId" column="EXP_REQUEST_ITEM_ID" />
        <result property="expRequestKitId" column="EXP_REQUEST_KIT_ID" />
        <result property="palletNo" column="PALLET_NO" />
        <result property="lineNo" column="LINE_NO" />
        <result property="kitBrch" column="KIT_BRCH" />
        <result property="customerItemNo" column="CUSTOMER_ITEM_NO" />
        <result property="description" column="DESCRIPTION" />
        <result property="componentItemNo" column="COMPONENT_ITEM_NO" />
        <result property="qtyUnit" column="QTY_UNIT" />
        <result property="qty" column="QTY" />
        <result property="comUpdateUserId" column="COM_UPDATE_USER_ID" />
        <result property="comUpdateTimestamp" column="COM_UPDATE_TIMESTAMP" />
        <result property="comCreateUserId" column="COM_CREATE_USER_ID" />
        <result property="comCreateTimestamp" column="COM_CREATE_TIMESTAMP" />
        <result property="netWeight" column="NET_WEIGHT" />
    </resultMap>
    <resultMap id="W1007PltzWkJoin" class="W1007PltzWkDomain">
        <result property="pltzWkId" column="PLTZ_WK_ID" />
        <result property="expRequestNo" column="EXP_REQUEST_NO" />
        <result property="expRequestItemId" column="EXP_REQUEST_ITEM_ID" />
        <result property="expRequestKitId" column="EXP_REQUEST_KIT_ID" />
        <result property="palletNo" column="PALLET_NO" />
        <result property="lineNo" column="LINE_NO" />
        <result property="kitBrch" column="KIT_BRCH" />
        <result property="customerItemNo" column="CUSTOMER_ITEM_NO" />
        <result property="description" column="DESCRIPTION" />
        <result property="componentItemNo" column="COMPONENT_ITEM_NO" />
        <result property="qtyUnit" column="QTY_UNIT" />
        <result property="qty" column="QTY" />
        <result property="comUpdateUserId" column="COM_UPDATE_USER_ID" />
        <result property="comUpdateTimestamp" column="COM_UPDATE_TIMESTAMP" />
        <result property="comCreateUserId" column="COM_CREATE_USER_ID" />
        <result property="comCreateTimestamp" column="COM_CREATE_TIMESTAMP" />
        <result property="netWeight" column="NET_WEIGHT" />
        <result property="dngrGoodsImpExpCtrl" column="DNGR_GOODS_IMP_EXP_CTRL_ITEM" />
    	<result property="dngrGoodsImpExpCtrlKit" column="DNGR_GOODS_IMP_EXP_CTRL_KIT" />
    	<result property="commercialFlg" column="COMMERCIAL_FlG" />
    	<result property="commercialKitFlg" column="COMMERCIAL_KIT_FLG" />
    </resultMap>
	<resultMap id="W1007PltzWkType" class="W1007PltzWkDomain">
        <result property="expRequestNo" column="EXP_REQUEST_NO" />
        <result property="expRequestItemId" column="EXP_REQUEST_ITEM_ID" />
        <result property="expRequestKitId" column="EXP_REQUEST_KIT_ID" />
        <result property="palletNo" column="PALLET_NO" />
        <result property="lineNo" column="LINE_NO" />
        <result property="type" column="TYPE" />
        <result property="mainMark" column="MAIN_MARK" />
    </resultMap>

    <!-- 汎用 項目 -->
    <sql id="Cols">
              PLTZ_WK_ID
            ,EXP_REQUEST_NO
            ,EXP_REQUEST_ITEM_ID
            ,EXP_REQUEST_KIT_ID
            ,PALLET_NO
            ,LINE_NO
            ,KIT_BRCH
            ,CUSTOMER_ITEM_NO
            ,DESCRIPTION
            ,COMPONENT_ITEM_NO
            ,QTY_UNIT
            ,QTY
            ,NET_WEIGHT
            ,COM_UPDATE_USER_ID
            ,COM_UPDATE_TIMESTAMP
            ,COM_CREATE_USER_ID
            ,COM_CREATE_TIMESTAMP
    </sql>
	<sql id="ColsA">
              A.PLTZ_WK_ID
            ,A.EXP_REQUEST_NO
            ,A.EXP_REQUEST_ITEM_ID
            ,A.EXP_REQUEST_KIT_ID
            ,A.PALLET_NO
            ,A.LINE_NO
            ,A.KIT_BRCH
            ,A.CUSTOMER_ITEM_NO
            ,A.DESCRIPTION
            ,A.COMPONENT_ITEM_NO
            ,A.QTY_UNIT
            ,A.QTY
            ,A.NET_WEIGHT
            ,A.COM_UPDATE_USER_ID
            ,A.COM_UPDATE_TIMESTAMP
            ,A.COM_CREATE_USER_ID
            ,A.COM_CREATE_TIMESTAMP
    </sql>
    <sql id="ColsB">
            ,B.DNGR_GOODS_IMP_EXP_CTRL as DNGR_GOODS_IMP_EXP_CTRL_ITEM
            ,B.COMMERCIAL_FlG as COMMERCIAL_FlG
	</sql>
    <sql id="ColsC">
            ,C.DNGR_GOODS_IMP_EXP_CTRL as DNGR_GOODS_IMP_EXP_CTRL_KIT
            ,C.COMMERCIAL_FlG as COMMERCIAL_KIT_FLG
	</sql>
    <!-- 汎用 SELECT句 -->
    <sql id="Select">
        select
        <include refid="Cols" />
        from TW_EXP_REQUEST_PLTZ
    </sql>
	<sql id="SelectJoin">
        SELECT
        <include refid="ColsA" />
        <include refid="ColsB" />
        <include refid="ColsC" />
        FROM TW_EXP_REQUEST_PLTZ A LEFT JOIN TT_EXP_REQUEST_DTL B ON A.EXP_REQUEST_NO = B.EXP_REQUEST_NO 
		AND B.EXP_REQUEST_ITEM_ID = A.EXP_REQUEST_ITEM_ID AND A.LINE_NO = B.LINE_NO
		LEFT JOIN TT_EXP_REQUEST_DTL_KIT C ON A.EXP_REQUEST_NO = C.EXP_REQUEST_NO 
		AND C.EXP_REQUEST_ITEM_ID = A.EXP_REQUEST_ITEM_ID AND A.EXP_REQUEST_KIT_ID = C.EXP_REQUEST_KIT_ID AND A.KIT_BRCH = C.KIT_BRCH
    </sql>
    <!-- 汎用 SELECT句（ページング用） -->
    <sql id="SelectForPaging">
        select
        <include refid="Cols" />
            ,row_number() over (<isNotEmpty property="preferredOrder">order by $preferredOrder$</isNotEmpty><isEmpty property="preferredOrder"><include refid="SortKeys" /></isEmpty>) ROW_NUM
        from TW_EXP_REQUEST_PLTZ
    </sql>

    <!-- 汎用 Where句（主キー） -->
    <sql id="WhereKey">
        <dynamic prepend="where">
        <isParameterPresent prepend="and">
            PLTZ_WK_ID = #pltzWkId#
        </isParameterPresent>
        </dynamic>
    </sql>

    <!-- 汎用 Where句（全項目） -->
    <sql id="WhereCondition">
        <dynamic prepend="where">
            <isNotEmpty prepend="and" property="pltzWkId">
                PLTZ_WK_ID = #pltzWkId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNo">
                EXP_REQUEST_NO = #expRequestNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestItemId">
                EXP_REQUEST_ITEM_ID = #expRequestItemId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestKitId">
                EXP_REQUEST_KIT_ID = #expRequestKitId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNo">
                PALLET_NO = #palletNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="lineNo">
                LINE_NO = #lineNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitBrch">
                KIT_BRCH = #kitBrch#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNo">
                CUSTOMER_ITEM_NO = #customerItemNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="description">
                DESCRIPTION = #description#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNo">
                COMPONENT_ITEM_NO = #componentItemNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnit">
                QTY_UNIT = #qtyUnit#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qty">
                QTY = #qty#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="netWeight">
                NET_WEIGHT = #netWeight#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserId">
                COM_UPDATE_USER_ID = #comUpdateUserId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateTimestamp">
                COM_UPDATE_TIMESTAMP = #comUpdateTimestamp#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserId">
                COM_CREATE_USER_ID = #comCreateUserId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateTimestamp">
                COM_CREATE_TIMESTAMP = #comCreateTimestamp#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoGreaterThan">
                EXP_REQUEST_NO <![CDATA[>]]> #expRequestNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoGreaterThanEqual">
                EXP_REQUEST_NO <![CDATA[>=]]> #expRequestNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoLessThan">
                EXP_REQUEST_NO <![CDATA[<]]> #expRequestNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoLessThanEqual">
                EXP_REQUEST_NO <![CDATA[<=]]> #expRequestNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNoLikeFront">
                EXP_REQUEST_NO LIKE CONCAT(#expRequestNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNoGreaterThan">
                PALLET_NO <![CDATA[>]]> #palletNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNoGreaterThanEqual">
                PALLET_NO <![CDATA[>=]]> #palletNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNoLessThan">
                PALLET_NO <![CDATA[<]]> #palletNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNoLessThanEqual">
                PALLET_NO <![CDATA[<=]]> #palletNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNoLikeFront">
                PALLET_NO LIKE CONCAT(#palletNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoGreaterThan">
                CUSTOMER_ITEM_NO <![CDATA[>]]> #customerItemNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoGreaterThanEqual">
                CUSTOMER_ITEM_NO <![CDATA[>=]]> #customerItemNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoLessThan">
                CUSTOMER_ITEM_NO <![CDATA[<]]> #customerItemNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoLessThanEqual">
                CUSTOMER_ITEM_NO <![CDATA[<=]]> #customerItemNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNoLikeFront">
                CUSTOMER_ITEM_NO LIKE CONCAT(#customerItemNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionGreaterThan">
                DESCRIPTION <![CDATA[>]]> #descriptionGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionGreaterThanEqual">
                DESCRIPTION <![CDATA[>=]]> #descriptionGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionLessThan">
                DESCRIPTION <![CDATA[<]]> #descriptionLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionLessThanEqual">
                DESCRIPTION <![CDATA[<=]]> #descriptionLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="descriptionLikeFront">
                DESCRIPTION LIKE CONCAT(#descriptionLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNoGreaterThan">
                COMPONENT_ITEM_NO <![CDATA[>]]> #componentItemNoGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNoGreaterThanEqual">
                COMPONENT_ITEM_NO <![CDATA[>=]]> #componentItemNoGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNoLessThan">
                COMPONENT_ITEM_NO <![CDATA[<]]> #componentItemNoLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNoLessThanEqual">
                COMPONENT_ITEM_NO <![CDATA[<=]]> #componentItemNoLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNoLikeFront">
                COMPONENT_ITEM_NO LIKE CONCAT(#componentItemNoLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitGreaterThan">
                QTY_UNIT <![CDATA[>]]> #qtyUnitGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitGreaterThanEqual">
                QTY_UNIT <![CDATA[>=]]> #qtyUnitGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitLessThan">
                QTY_UNIT <![CDATA[<]]> #qtyUnitLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitLessThanEqual">
                QTY_UNIT <![CDATA[<=]]> #qtyUnitLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnitLikeFront">
                QTY_UNIT LIKE CONCAT(#qtyUnitLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdGreaterThan">
                COM_UPDATE_USER_ID <![CDATA[>]]> #comUpdateUserIdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdGreaterThanEqual">
                COM_UPDATE_USER_ID <![CDATA[>=]]> #comUpdateUserIdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdLessThan">
                COM_UPDATE_USER_ID <![CDATA[<]]> #comUpdateUserIdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdLessThanEqual">
                COM_UPDATE_USER_ID <![CDATA[<=]]> #comUpdateUserIdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserIdLikeFront">
                COM_UPDATE_USER_ID LIKE CONCAT(#comUpdateUserIdLikeFront#,'%')
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdGreaterThan">
                COM_CREATE_USER_ID <![CDATA[>]]> #comCreateUserIdGreaterThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdGreaterThanEqual">
                COM_CREATE_USER_ID <![CDATA[>=]]> #comCreateUserIdGreaterThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdLessThan">
                COM_CREATE_USER_ID <![CDATA[<]]> #comCreateUserIdLessThan#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdLessThanEqual">
                COM_CREATE_USER_ID <![CDATA[<=]]> #comCreateUserIdLessThanEqual#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserIdLikeFront">
                COM_CREATE_USER_ID LIKE CONCAT(#comCreateUserIdLikeFront#,'%')
            </isNotEmpty>
        </dynamic>
    </sql>
	<sql id="WhereJoinCondition">
        <dynamic prepend="where">
            <isNotEmpty prepend="and" property="pltzWkId">
                A.PLTZ_WK_ID = #pltzWkId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestNo">
                A.EXP_REQUEST_NO = #expRequestNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestItemId">
                A.EXP_REQUEST_ITEM_ID = #expRequestItemId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="expRequestKitId">
                A.EXP_REQUEST_KIT_ID = #expRequestKitId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="palletNo">
                A.PALLET_NO = #palletNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="lineNo">
                A.LINE_NO = #lineNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="kitBrch">
                A.KIT_BRCH = #kitBrch#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="customerItemNo">
                A.CUSTOMER_ITEM_NO = #customerItemNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="description">
                A.DESCRIPTION = #description#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="componentItemNo">
                A.COMPONENT_ITEM_NO = #componentItemNo#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qtyUnit">
                A.QTY_UNIT = #qtyUnit#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="qty">
                A.QTY = #qty#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="netWeight">
                A.NET_WEIGHT = #netWeight#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateUserId">
                A.COM_UPDATE_USER_ID = #comUpdateUserId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comUpdateTimestamp">
                A.COM_UPDATE_TIMESTAMP = #comUpdateTimestamp#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateUserId">
                COM_CREATE_USER_ID = #comCreateUserId#
            </isNotEmpty>
            <isNotEmpty prepend="and" property="comCreateTimestamp">
                A.COM_CREATE_TIMESTAMP = #comCreateTimestamp#
            </isNotEmpty>
        </dynamic>
    </sql>
    <!-- 汎用 OrderBy句 -->
    <sql id="SortKeys">
        <isNotEmpty property="preferredOrder">
            order by $preferredOrder$
        </isNotEmpty>
        <isEmpty property="preferredOrder">
            order by 
             PLTZ_WK_ID asc
        </isEmpty>
    </sql>
	<sql id="SortJoinKeys">
        <isEmpty property="preferredOrder">
            order by 
             A.PLTZ_WK_ID asc
        </isEmpty>
    </sql>
    <!-- 検索 SQL文（主キー） -->
    <select id="SearchByKey" resultMap="W1007PltzWk"
        parameterClass="W1007PltzWkCriteriaDomain">
        <include refid="Select" />
        /* SqlMap-W1007PltzWk.SearchByKey */
        <include refid="WhereKey" />
    </select>

    <!-- 検索 SQL文（任意条件） -->
    <select id="SearchByCondition" resultMap="W1007PltzWk"
        parameterClass="W1007PltzWkCriteriaDomain">
        <include refid="Select" />
        /* SqlMap-W1007PltzWk.SearchByCondition */
        <include refid="WhereCondition" />
        <include refid="SortKeys" />
    </select>
    <select id="SearchJoinByCondition" resultMap="W1007PltzWkJoin"
        parameterClass="W1007PltzWkCriteriaDomain">
        <include refid="SelectJoin" />
        /* SqlMap-W1007PltzWk.SearchByCondition */
        <include refid="WhereJoinCondition" />
        <include refid="SortJoinKeys" />
    </select>
    <!-- SQL SearchByType  -->
    <select id="SearchByType" resultMap="W1007PltzWkType"
        parameterClass="W1007PltzWkCriteriaDomain">
		 SELECT EXP_REQUEST_NO, PALLET_NO, TYPE, MAIN_MARK , '' as EXP_REQUEST_ITEM_ID , '' as EXP_REQUEST_KIT_ID , '' as LINE_NO 
		 FROM
		    (
		        SELECT ROWNUM AS RN, EXP_REQUEST_NO, PALLET_NO ,TYPE,MAIN_MARK  FROM
		        (
		            SELECT * FROM(
	                  SELECT DISTINCT W.PALLET_NO , W.EXP_REQUEST_NO ,'PLTZ_WK' AS TYPE, '' AS MAIN_MARK FROM TW_EXP_REQUEST_PLTZ W WHERE W.EXP_REQUEST_NO= #expRequestNo# 
	                  
	                  UNION
	  
	                  SELECT DISTINCT W.PALLET_NO , W.EXP_REQUEST_NO , 'PLTZ' AS TYPE, W.MAIN_MARK FROM TT_PLTZ W WHERE W.EXP_REQUEST_NO= #expRequestNo# 
                	)W ORDER BY W.TYPE desc , W.PALLET_NO
		        )
		 )<!-- WHERE RN = #rowNumFrom# Issue 098-->
	</select>
    <!-- 検索 SQL文（任意条件、ページング用） -->
    <select id="SearchByConditionForPaging" resultMap="W1007PltzWk"
        parameterClass="W1007PltzWkCriteriaDomain">
        select 
            <include refid="Cols" />
            /* SqlMap-W1007PltzWk.SearchByConditionForPaging */
            from (
                <include refid="SelectForPaging" />
                <include refid="WhereCondition" />
            ) where ROW_NUM between #rowNumFrom# and #rowNumTo#
    </select>

    <!-- 検索 SQL文（任意条件 件数取得） -->
    <select id="SearchCount" resultClass="java.lang.Integer"
        parameterClass="W1007PltzWkCriteriaDomain">
        select count(rownum) 
        from TW_EXP_REQUEST_PLTZ
        /* SqlMap-W1007PltzWk.SearchCount */
        <include refid="WhereCondition" />
    </select>
	<!-- 検索 SQL文（任意条件 件数取得） -->
    <select id="SearchMaxId" resultClass="java.lang.Integer">
        select
            TW_EXP_REQUEST_PLTZ_ID.NEXTVAL
        from
            dual
    </select>
    
	<select id="SearchCountDistinct" resultClass="java.lang.Integer"
        parameterClass="W1007PltzWkCriteriaDomain">
        select count(rownum) 
        from (
	        /* SqlMap-W1007PltzWk.SearchCount */
	        select distinct PALLET_NO from TW_EXP_REQUEST_PLTZ 
	        where  EXP_REQUEST_NO = #expRequestNo#
	        union
	        select distinct PALLET_NO from TT_PLTZ 
	        where  EXP_REQUEST_NO = #expRequestNo#
        )
    </select>
    
    <!-- 汎用 Where句（主キー Update/Delete用） -->
    <sql id="WhereKeyForChange">
        <dynamic prepend="where">
        <isParameterPresent prepend="and">
            PLTZ_WK_ID = #pltzWkId#
        </isParameterPresent>
        </dynamic>
    </sql>


    <!-- 登録 SQL文 -->
    <insert id="Create" parameterClass="W1007PltzWkDomain">
        <dynamic prepend="insert into TW_EXP_REQUEST_PLTZ (">
        /* SqlMap-TtPltzWk.Create */
            <isNotNull prepend="," property="pltzWkId">
                PLTZ_WK_ID
            </isNotNull>
            <isNotNull prepend="," property="expRequestNo">
                EXP_REQUEST_NO
            </isNotNull>
            <isNotNull prepend="," property="expRequestItemId">
                EXP_REQUEST_ITEM_ID
            </isNotNull>
            <isNotNull prepend="," property="expRequestKitId">
                EXP_REQUEST_KIT_ID
            </isNotNull>
            <isNotNull prepend="," property="palletNo">
                PALLET_NO
            </isNotNull>
            <isNotNull prepend="," property="lineNo">
                LINE_NO
            </isNotNull>
            <isNotNull prepend="," property="kitBrch">
                KIT_BRCH
            </isNotNull>
            <isNotNull prepend="," property="customerItemNo">
                CUSTOMER_ITEM_NO
            </isNotNull>
            <isNotNull prepend="," property="description">
                DESCRIPTION
            </isNotNull>
            <isNotNull prepend="," property="componentItemNo">
                COMPONENT_ITEM_NO
            </isNotNull>
            <isNotNull prepend="," property="qtyUnit">
                QTY_UNIT
            </isNotNull>
            <isNotNull prepend="," property="qty">
                QTY
            </isNotNull>
            <isNotNull prepend="," property="netWeight">
                NET_WEIGHT
            </isNotNull>
            <isNotNull prepend="," property="comUpdateUserId">
                COM_UPDATE_USER_ID
            </isNotNull>
            <isParameterPresent prepend=",">
                COM_UPDATE_TIMESTAMP
            </isParameterPresent>
            <isNotNull prepend="," property="comCreateUserId">
                COM_CREATE_USER_ID
            </isNotNull>
            <isParameterPresent prepend=",">
                COM_CREATE_TIMESTAMP
            </isParameterPresent>
        </dynamic>
        <dynamic prepend=") values (">
            <isNotNull prepend="," property="pltzWkId">
                #pltzWkId#
            </isNotNull>
            <isNotNull prepend="," property="expRequestNo">
                #expRequestNo#
            </isNotNull>
            <isNotNull prepend="," property="expRequestItemId">
                #expRequestItemId#
            </isNotNull>
            <isNotNull prepend="," property="expRequestKitId">
                #expRequestKitId#
            </isNotNull>
            <isNotNull prepend="," property="palletNo">
                #palletNo#
            </isNotNull>
            <isNotNull prepend="," property="lineNo">
                #lineNo#
            </isNotNull>
            <isNotNull prepend="," property="kitBrch">
                #kitBrch#
            </isNotNull>
            <isNotNull prepend="," property="customerItemNo">
                #customerItemNo#
            </isNotNull>
            <isNotNull prepend="," property="description">
                #description#
            </isNotNull>
            <isNotNull prepend="," property="componentItemNo">
                #componentItemNo#
            </isNotNull>
            <isNotNull prepend="," property="qtyUnit">
                #qtyUnit#
            </isNotNull>
            <isNotNull prepend="," property="qty">
                #qty#
            </isNotNull>
            <isNotNull prepend="," property="netWeight">
                #netWeight#
            </isNotNull>
            <isNotNull prepend="," property="comUpdateUserId">
                #comUpdateUserId#
            </isNotNull>
            <isParameterPresent prepend=",">
                SYSDATE
            </isParameterPresent>
            <isNotNull prepend="," property="comCreateUserId">
                #comCreateUserId#
            </isNotNull>
            <isParameterPresent prepend=",">
                SYSDATE
            </isParameterPresent>
        </dynamic>
            )
    </insert>

    <!-- 更新 SQL文（主キー） -->
    <update id="Update" parameterClass="W1007PltzWkDomain">
        <dynamic prepend="update TW_EXP_REQUEST_PLTZ set ">
        /* SqlMap-TtPltzWk.Update */
            <isNotNull prepend="," property="expRequestNo">
                EXP_REQUEST_NO = #expRequestNo#
            </isNotNull>
            <isNotNull prepend="," property="expRequestItemId">
                EXP_REQUEST_ITEM_ID = #expRequestItemId#
            </isNotNull>
            <isNotNull prepend="," property="expRequestKitId">
                EXP_REQUEST_KIT_ID = #expRequestKitId#
            </isNotNull>
            <isNotNull prepend="," property="palletNo">
                PALLET_NO = #palletNo#
            </isNotNull>
            <isNotNull prepend="," property="lineNo">
                LINE_NO = #lineNo#
            </isNotNull>
            <isNotNull prepend="," property="kitBrch">
                KIT_BRCH = #kitBrch#
            </isNotNull>
            <isNotNull prepend="," property="customerItemNo">
                CUSTOMER_ITEM_NO = #customerItemNo#
            </isNotNull>
            <isNotNull prepend="," property="description">
                DESCRIPTION = #description#
            </isNotNull>
            <isNotNull prepend="," property="componentItemNo">
                COMPONENT_ITEM_NO = #componentItemNo#
            </isNotNull>
            <isNotNull prepend="," property="qtyUnit">
                QTY_UNIT = #qtyUnit#
            </isNotNull>
            <isNotNull prepend="," property="qty">
                QTY = #qty#
            </isNotNull>
            <isNotNull prepend="," property="netWeight">
                NET_WEIGHT = #netWeight#
            </isNotNull>
            <isNotNull prepend="," property="comUpdateUserId">
                COM_UPDATE_USER_ID = #comUpdateUserId#
            </isNotNull>
            <isParameterPresent prepend=",">
                COM_UPDATE_TIMESTAMP = SYSDATE
            </isParameterPresent>
        </dynamic>
        <include refid="WhereKeyForChange" />
    </update>


    <!-- 削除 SQL文（主キー） -->
    <delete id="Delete" parameterClass="W1007PltzWkCriteriaDomain">
        delete from TW_EXP_REQUEST_PLTZ
        /* SqlMap-W1007PltzWk.Delete */
        <include refid="WhereKey" />
    </delete>
 	<!-- 削除 SQL文（主キー） -->
    <delete id="DeleteByExpRequestNo" parameterClass="W1007PltzWkCriteriaDomain">
        delete from TW_EXP_REQUEST_PLTZ
        /* SqlMap-W1007PltzWk.Delete */
        <include refid="WhereCondition" />
    </delete>

</sqlMap>
